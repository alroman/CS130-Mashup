/**
 * @preserve
 * FullCalendar v1.5.2
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, requires jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * Copyright (c) 2011 Adam Shaw
 * Dual licensed under the MIT and GPL licenses, located in
 * MIT-LICENSE.txt and GPL-LICENSE.txt respectively.
 *
 * Date: Sun Aug 21 22:06:09 2011 -0700
 *
 */(function(a,b){function g(b){a.extend(!0,c,b)}function h(c,d,e){function H(a){if(!o)I();else{R();Q();ba();O(a)}}function I(){p=d.theme?"ui":"fc";c.addClass("fc");d.isRTL&&c.addClass("fc-rtl");d.theme&&c.addClass("ui-widget");o=a("<div class='fc-content' style='position:relative'/>").prependTo(c);m=new i(g,d);n=m.render();n&&c.prepend(n);N(d.defaultView);a(window).resize(T);M()||J()}function J(){setTimeout(function(){!t.start&&M()&&O()},0)}function K(){a(window).unbind("resize",T);m.destroy();o.remove();c.removeClass("fc fc-rtl ui-widget")}function L(){return k.offsetWidth!==0}function M(){return a("body")[0].offsetWidth!==0}function N(b){if(!t||b!=t.name){B++;bc();var c=t,d;if(c){(c.beforeHide||Z)();Y(o,o.height());c.element.hide()}else Y(o,1);o.css("overflow","hidden");t=u[b];t?t.element.show():t=u[b]=new f[b](d=y=a("<div class='fc-view fc-view-"+b+"' style='position:absolute'/>").appendTo(o),g);c&&m.deactivateButton(c.name);m.activateButton(b);O();o.css("overflow","");c&&Y(o,1);d||(t.afterShow||Z)();B--}}function O(a){if(L()){B++;bc();x===b&&R();var d=!1;if(!t.start||a||C<t.start||C>=t.end){t.render(C,a||0);S(!0);d=!0}else if(t.sizeDirty){t.clearEvents();S();d=!0}else if(t.eventsDirty){t.clearEvents();d=!0}t.sizeDirty=!1;t.eventsDirty=!1;V(d);v=c.outerWidth();m.updateTitle(t.title);var e=new Date;e>=t.start&&e<t.end?m.disableButton("today"):m.enableButton("today");B--;t.trigger("viewDisplay",k)}}function P(){Q();if(L()){R();S();bc();t.clearEvents();t.renderEvents(D);t.sizeDirty=!1}}function Q(){a.each(u,function(a,b){b.sizeDirty=!0})}function R(){d.contentHeight?x=d.contentHeight:d.height?x=d.height-(n?n.height():0)-U(o):x=Math.round(o.width()/Math.max(d.aspectRatio,.5))}function S(a){B++;t.setHeight(x,a);if(y){y.css("position","relative");y=null}t.setWidth(o.width(),a);B--}function T(){if(!B)if(t.start){var a=++z;setTimeout(function(){if(a==z&&!B&&L()&&v!=(v=c.outerWidth())){B++;P();t.trigger("windowResize",k);B--}},200)}else J()}function V(a){!d.lazyFetching||h(t.visStart,t.visEnd)?W():a&&_()}function W(){j(t.visStart,t.visEnd)}function X(a){D=a;_()}function $(a){_(a)}function _(a){ba();if(L()){t.clearEvents();t.renderEvents(D,a);t.eventsDirty=!1}}function ba(){a.each(u,function(a,b){b.eventsDirty=!0})}function bb(a,c,d){t.select(a,c,d===b?!0:d)}function bc(){t&&t.unselect()}function bd(){O(-1)}function be(){O(1)}function bf(){q(C,-1);O()}function bg(){q(C,1);O()}function bh(){C=new Date;O()}function bi(a,b,c){a instanceof Date?C=w(a):A(C,a,b,c);O()}function bj(a,c,d){a!==b&&q(C,a);c!==b&&r(C,c);d!==b&&s(C,d);O()}function bk(){return w(C)}function bl(){return t}function bm(a,c){if(c===b)return d[a];if(a=="height"||a=="contentHeight"||a=="aspectRatio"){d[a]=c;P()}}function bn(a,b){if(d[a])return d[a].apply(b||k,Array.prototype.slice.call(arguments,2))}var g=this;g.options=d;g.render=H;g.destroy=K;g.refetchEvents=W;g.reportEvents=X;g.reportEventChange=$;g.rerenderEvents=_;g.changeView=N;g.select=bb;g.unselect=bc;g.prev=bd;g.next=be;g.prevYear=bf;g.nextYear=bg;g.today=bh;g.gotoDate=bi;g.incrementDate=bj;g.formatDate=function(a,b){return E(a,b,d)};g.formatDates=function(a,b,c){return F(a,b,c,d)};g.getDate=bk;g.getView=bl;g.option=bm;g.trigger=bn;l.call(g,d,e);var h=g.isFetchNeeded,j=g.fetchEvents,k=c[0],m,n,o,p,t,u={},v,x,y,z=0,B=0,C=new Date,D=[],G;A(C,d.year,d.month,d.date);d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;if(a.isFunction(g)?g.call(e,f):f.is(g)){G=e;t.dragStart(G,b,c)}}}).bind("dragstop",function(a,b){if(G){t.dragStop(G,a,b);G=null}})}function i(b,c){function h(){g=c.theme?"ui":"fc";var b=c.header;if(b){e=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(j("left")).append(j("center")).append(j("right")));return e}}function i(){e.remove()}function j(d){var e=a("<td class='fc-header-"+d+"'/>"),h=c.header[d];h&&a.each(h.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var h;a.each(this.split(","),function(d,i){if(i=="title"){e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");h&&h.addClass(g+"-corner-right");h=null}else{var j;b[i]?j=b[i]:f[i]&&(j=function(){m.removeClass(g+"-state-hover");b.changeView(i)});if(j){var k=c.theme?bb(c.buttonIcons,i):null,l=bb(c.buttonText,i),m=a("<span class='fc-button fc-button-"+i+" "+g+"-state-default'>"+"<span class='fc-button-inner'>"+"<span class='fc-button-content'>"+(k?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+k+"'/>"+"</span>":l)+"</span>"+"<span class='fc-button-effect'><span></span></span>"+"</span>"+"</span>");if(m){m.click(function(){m.hasClass(g+"-state-disabled")||j()}).mousedown(function(){m.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-down")}).mouseup(function(){m.removeClass(g+"-state-down")}).hover(function(){m.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-hover")},function(){m.removeClass(g+"-state-hover").removeClass(g+"-state-down")}).appendTo(e);h||m.addClass(g+"-corner-left");h=m}}}});h&&h.addClass(g+"-corner-right")});return e}function k(a){e.find("h2").html(a)}function l(a){e.find("span.fc-button-"+a).addClass(g+"-state-active")}function m(a){e.find("span.fc-button-"+a).removeClass(g+"-state-active")}function n(a){e.find("span.fc-button-"+a).addClass(g+"-state-disabled")}function o(a){e.find("span.fc-button-"+a).removeClass(g+"-state-disabled")}var d=this;d.render=h;d.destroy=i;d.updateTitle=k;d.activateButton=l;d.deactivateButton=m;d.disableButton=n;d.enableButton=o;var e=a([]),g}function l(c,d){function u(a,b){return!n||a<n||b>o}function v(a,b){n=a;o=b;s=[];var c=++p,d=m.length;q=d;for(var e=0;e<d;e++)x(m[e],c)}function x(a,b){y(a,function(c){if(b==p){if(c){for(var d=0;d<c.length;d++){c[d].source=a;J(c[d])}s=s.concat(c)}q--;q||i(s)}})}function y(b,d){var f,g=e.sourceFetchers,h;for(f=0;f<g.length;f++){h=g[f](b,n,o,d);if(h===!0)return;if(typeof h=="object"){y(h,d);return}}var i=b.events;if(i)if(a.isFunction(i)){H();i(w(n),w(o),function(a){d(a);I()})}else a.isArray(i)?d(i):d();else{var k=b.url;if(k){var l=b.success,m=b.error,p=b.complete,q=a.extend({},b.data||{}),r=bj(b.startParam,c.startParam),s=bj(b.endParam,c.endParam);r&&(q[r]=Math.round(+n/1e3));s&&(q[s]=Math.round(+o/1e3));H();a.ajax(a.extend({},j,b,{data:q,success:function(b){b=b||[];var c=bi(l,this,arguments);a.isArray(c)&&(b=c);d(b)},error:function(){bi(m,this,arguments);d()},complete:function(){bi(p,this,arguments);I()}}))}else d()}}function z(a){a=A(a);if(a){q++;x(a,p)}}function A(b){a.isFunction(b)||a.isArray(b)?b={events:b}:typeof b=="string"&&(b={url:b});if(typeof b=="object"){K(b);m.push(b);return b}}function C(b){m=a.grep(m,function(a){return!L(a,b)});s=a.grep(s,function(a){return!L(a.source,b)});i(s)}function D(a){var b,c=s.length,d,e=h().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;b<c;b++){d=s[b];if(d._id==a._id&&d!=a){d.start=new Date(+d.start+f);a.end?d.end?d.end=new Date(+d.end+g):d.end=new Date(+e(d)+g):d.end=null;d.title=a.title;d.url=a.url;d.allDay=a.allDay;d.className=a.className;d.editable=a.editable;d.color=a.color;d.backgroudColor=a.backgroudColor;d.borderColor=a.borderColor;d.textColor=a.textColor;J(d)}}J(a);i(s)}function E(a,b){J(a);if(!a.source){if(b){l.events.push(a);a.source=l}s.push(a)}i(s)}function F(b){if(!b){s=[];for(var c=0;c<m.length;c++)a.isArray(m[c].events)&&(m[c].events=[])}else{if(!a.isFunction(b)){var d=b+"";b=function(a){return a._id==d}}s=a.grep(s,b,!0);for(var c=0;c<m.length;c++)a.isArray(m[c].events)&&(m[c].events=a.grep(m[c].events,b,!0))}i(s)}function G(b){if(a.isFunction(b))return a.grep(s,b);if(b){b+="";return a.grep(s,function(a){return a._id==b})}return s}function H(){r++||g("loading",null,!0)}function I(){--r||g("loading",null,!1)}function J(a){var d=a.source||{},e=bj(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+k++:a.id+"");if(a.date){a.start||(a.start=a.date);delete a.date}a._start=w(a.start=B(a.start,e));a.end=B(a.end,e);a.end&&a.end<=a.start&&(a.end=null);a._end=a.end?w(a.end):null;a.allDay===b&&(a.allDay=bj(d.allDayDefault,c.allDayDefault));a.className?typeof a.className=="string"&&(a.className=a.className.split(/\s+/)):a.className=[]}function K(a){a.className?typeof a.className=="string"&&(a.className=a.className.split(/\s+/)):a.className=[];var b=e.sourceNormalizers;for(var c=0;c<b.length;c++)b[c](a)}function L(a,b){return a&&b&&M(a)==M(b)}function M(a){return(typeof a=="object"?a.events||a.url:"")||a}var f=this;f.isFetchNeeded=u;f.fetchEvents=v;f.addEventSource=z;f.removeEventSource=C;f.updateEvent=D;f.renderEvent=E;f.removeEvents=F;f.clientEvents=G;f.normalizeEvent=J;var g=f.trigger,h=f.getView,i=f.reportEvents,l={events:[]},m=[l],n,o,p=0,q=0,r=0,s=[];for(var t=0;t<d.length;t++)A(d[t])}function q(a,b,c){a.setFullYear(a.getFullYear()+b);c||v(a);return a}function r(a,b,c){if(+a){var d=a.getMonth()+b,e=w(a);e.setDate(1);e.setMonth(d);a.setMonth(d);c||v(a);while(a.getMonth()!=e.getMonth())a.setDate(a.getDate()+(a<e?1:-1))}return a}function s(a,b,c){if(+a){var d=a.getDate()+b,e=w(a);e.setHours(9);e.setDate(d);a.setDate(d);c||v(a);t(a,e)}return a}function t(a,b){if(+a)while(a.getDate()!=b.getDate())a.setTime(+a+(a<b?1:-1)*o)}function u(a,b){a.setMinutes(a.getMinutes()+b);return a}function v(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function w(a,b){return b?v(new Date(+a)):new Date(+a)}function x(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function y(a,b,c){b=b||1;while(!a.getDay()||c&&a.getDay()==1||!c&&a.getDay()==6)s(a,b);return a}function z(a,b){return Math.round((w(a,!0)-w(b,!0))/n)}function A(a,c,d,e){if(c!==b&&c!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(c)}if(d!==b&&d!=a.getMonth()){a.setDate(1);a.setMonth(d)}e!==b&&a.setDate(e)}function B(a,c){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1e3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1e3);c===b&&(c=!0);return C(a,c)||(a?new Date(a):null)}return null}function C(a,b){var c=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!c)return null;var d=new Date(c[1],0,1);if(b||!c[13]){var e=new Date(c[1],0,1,9,0);if(c[3]){d.setMonth(c[3]-1);e.setMonth(c[3]-1)}if(c[5]){d.setDate(c[5]);e.setDate(c[5])}t(d,e);c[7]&&d.setHours(c[7]);c[8]&&d.setMinutes(c[8]);c[10]&&d.setSeconds(c[10]);c[12]&&d.setMilliseconds(Number("0."+c[12])*1e3);t(d,e)}else{d.setUTCFullYear(c[1],c[3]?c[3]-1:0,c[5]||1);d.setUTCHours(c[7]||0,c[8]||0,c[10]||0,c[12]?Number("0."+c[12])*1e3:0);if(c[14]){var f=Number(c[16])*60+(c[18]?Number(c[18]):0);f*=c[15]=="-"?1:-1;d=new Date(+d+f*60*1e3)}}return d}function D(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);if(b[3]){c%=12;b[3].toLowerCase().charAt(0)=="p"&&(c+=12)}return c*60+(b[2]?parseInt(b[2],10):0)}}function E(a,b,c){return F(a,null,b,c)}function F(a,b,d,e){e=e||c;var f=a,g=b,h,i=d.length,j,k,l,m="";for(h=0;h<i;h++){j=d.charAt(h);if(j=="'"){for(k=h+1;k<i;k++)if(d.charAt(k)=="'"){if(f){k==h+1?m+="'":m+=d.substring(h+1,k);h=k}break}}else if(j=="("){for(k=h+1;k<i;k++)if(d.charAt(k)==")"){var n=E(f,d.substring(h+1,k),e);parseInt(n.replace(/\D/,""),10)&&(m+=n);h=k;break}}else if(j=="["){for(k=h+1;k<i;k++)if(d.charAt(k)=="]"){var o=d.substring(h+1,k),n=E(f,o,e);n!=E(g,o,e)&&(m+=n);h=k;break}}else if(j=="{"){f=b;g=a}else if(j=="}"){f=a;g=b}else{for(k=i;k>h;k--)if(l=G[d.substring(h,k)]){f&&(m+=l(f,e));h=k-1;break}k==h&&f&&(m+=j)}}return m}function H(a){return a.end?I(a.end,a.allDay):s(w(a.start),1)}function I(a,b){a=w(a);return b||a.getHours()||a.getMinutes()?s(a,1):v(a)}function J(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function K(a,b){return a.end>b.start&&a.start<b.end}function L(a,b,c,d){var e=[],f,g=a.length,h,i,j,k,l,m,n;for(f=0;f<g;f++){h=a[f];i=h.start;j=b[f];if(j>c&&i<d){if(i<c){k=w(c);m=!1}else{k=i;m=!0}if(j>d){l=w(d);n=!1}else{l=j;n=!0}e.push({event:h,start:k,end:l,isStart:m,isEnd:n,msLength:l-k})}}return e.sort(J)}function M(a){var b=[],c,d=a.length,e,f,g,h;for(c=0;c<d;c++){e=a[c];f=0;for(;;){g=!1;if(b[f])for(h=0;h<b[f].length;h++)if(K(b[f][h],e)){g=!0;break}if(g)f++;else break}b[f]?b[f].push(e):b[f]=[e]}return b}function N(c,d,e){c.unbind("mouseover").mouseover(function(c){var f=c.target,g,h,i;while(f!=this){g=f;f=f.parentNode}if((h=g._fci)!==b){g._fci=b;i=d[h];e(i.event,i.element,i);a(c.target).trigger(c)}c.stopPropagation()})}function O(b,c,d){for(var e=0,f;e<b.length;e++){f=a(b[e]);f.width(Math.max(0,c-Q(f,d)))}}function P(b,c,d){for(var e=0,f;e<b.length;e++){f=a(b[e]);f.height(Math.max(0,c-U(f,d)))}}function Q(a,b){return R(a)+T(a)+(b?S(a):0)}function R(b){return(parseFloat(a.curCSS(b[0],"paddingLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingRight",!0))||0)}function S(b){return(parseFloat(a.curCSS(b[0],"marginLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"marginRight",!0))||0)}function T(b){return(parseFloat(a.curCSS(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.curCSS(b[0],"borderRightWidth",!0))||0)}function U(a,b){return V(a)+X(a)+(b?W(a):0)}function V(b){return(parseFloat(a.curCSS(b[0],"paddingTop",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingBottom",!0))||0)}function W(b){return(parseFloat(a.curCSS(b[0],"marginTop",!0))||0)+(parseFloat(a.curCSS(b[0],"marginBottom",!0))||0)}function X(b){return(parseFloat(a.curCSS(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.curCSS(b[0],"borderBottomWidth",!0))||0)}function Y(a,b){b=typeof b=="number"?b+"px":b;a.each(function(a,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function Z(){}function $(a,b){return a-b}function _(a){return Math.max.apply(Math,a)}function ba(a){return(a<10?"0":"")+a}function bb(a,c){if(a[c]!==b)return a[c];var d=c.split(/(?=[A-Z])/),e=d.length-1,f;for(;e>=0;e--){f=a[d[e].toLowerCase()];if(f!==b)return f}return a[""]}function bc(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function bd(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function be(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function bf(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function bg(a,b){a.each(function(a,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+m[b.getDay()])})}function bh(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];g&&j.push("background-color:"+g);h&&j.push("border-color:"+h);i&&j.push("color:"+i);return j.join(";")}function bi(b,c,d){a.isFunction(b)&&(b=[b]);if(b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function bj(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==b)return arguments[a]}function bk(a,b){function g(a,b){if(b){r(a,b);a.setDate(1)}var g=w(a,!0);g.setDate(1);var h=r(w(g),1),i=w(g),j=w(h),k=d("firstDay"),l=d("weekends")?0:1;if(l){y(i);y(j,-1,!0)}s(i,-((i.getDay()-Math.max(k,l)+7)%7));s(j,(7-j.getDay()+Math.max(k,l))%7);var m=Math.round((j-i)/(n*7));if(d("weekMode")=="fixed"){s(j,(6-m)*7);m=6}c.title=f(g,d("titleFormat"));c.start=g;c.end=h;c.visStart=i;c.visEnd=j;e(6,m,l?5:7,!0)}var c=this;c.render=g;bn.call(c,a,b,"month");var d=c.opt,e=c.renderBasic,f=b.formatDate}function bl(a,b){function g(a,b){b&&s(a,b*7);var g=s(w(a),-((a.getDay()-d("firstDay")+7)%7)),h=s(w(g),7),i=w(g),j=w(h),k=d("weekends");if(!k){y(i);y(j,-1,!0)}c.title=f(i,s(w(j),-1),d("titleFormat"));c.start=g;c.end=h;c.visStart=i;c.visEnd=j;e(1,1,k?7:5,!1)}var c=this;c.render=g;bn.call(c,a,b,"basicWeek");var d=c.opt,e=c.renderBasic,f=b.formatDates}function bm(a,b){function g(a,b){if(b){s(a,b);d("weekends")||y(a,b<0?-1:1)}c.title=f(a,d("titleFormat"));c.start=c.visStart=w(a,!0);c.end=c.visEnd=s(w(c.start),1);e(1,1,1,!1)}var c=this;c.render=g;bn.call(c,a,b,"basicDay");var d=c.opt,e=c.renderBasic,f=b.formatDate}function bn(b,c,d){function N(a,b,c,d){B=b;C=c;P();var e=!o;e?Q(a,d):h();R(e)}function P(){G=f("isRTL");if(G){H=-1;I=C-1}else{H=1;I=0}J=f("firstDay");K=f("weekends")?0:1;L=f("theme")?"ui":"fc";M=f("columnFormat")}function Q(c,d){var e,f=L+"-widget-header",g=L+"-widget-content",h,i,j;e="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(h=0;h<C;h++)e+="<th class='fc- "+f+"'/>";e+="</tr></thead><tbody>";for(h=0;h<c;h++){e+="<tr class='fc-week"+h+"'>";for(i=0;i<C;i++)e+="<td class='fc- "+g+" fc-day"+(h*C+i)+"'>"+"<div>"+(d?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";e+="</tr>"}e+="</tbody></table>";j=a(e).appendTo(b);m=j.find("thead");n=m.find("th");o=j.find("tbody");p=o.find("tr");q=o.find("td");r=q.filter(":first-child");t=p.eq(0).find("div.fc-day-content div");bf(m.add(m.find("tr")));bf(p);p.eq(0).addClass("fc-first");V(q);u=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function R(b){var c=b||B==1,d=e.start.getMonth(),f=v(new Date),g,h,i;c&&n.each(function(b,c){g=a(c);h=bn(b);g.html(l(h,M));bg(g,h)});q.each(function(b,e){g=a(e);h=bn(b);h.getMonth()==d?g.removeClass("fc-other-month"):g.addClass("fc-other-month");+h==+f?g.addClass(L+"-state-highlight fc-today"):g.removeClass(L+"-state-highlight fc-today");g.find("div.fc-day-number").text(h.getDate());c&&bg(g,h)});p.each(function(b,c){i=a(c);if(b<B){i.show();b==B-1?i.addClass("fc-last"):i.removeClass("fc-last")}else i.hide()})}function S(b){y=b;var c=y-m.height(),d,e,g;if(f("weekMode")=="variable")d=e=Math.floor(c/(B==1?2:6));else{d=Math.floor(c/B);e=c-d*(B-1)}r.each(function(b,c){if(b<B){g=a(c);Y(g.find("> div"),(b==B-1?e:d)-U(g))}})}function T(a){x=a;F.clear();A=Math.floor(x/C);O(n.slice(0,-1),A)}function V(a){a.click(W).mousedown(k)}function W(a){if(!f("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),c=bn(b);g("dayClick",this,c,!0,a)}}function X(a,b,c){c&&D.build();var d=w(e.visStart),f=s(w(d),C);for(var g=0;g<B;g++){var h=new Date(Math.max(d,a)),i=new Date(Math.min(f,b));if(h<i){var j,k;if(G){j=z(i,d)*H+I+1;k=z(h,d)*H+I+1}else{j=z(h,d);k=z(i,d)}V(Z(g,j,g,k-1))}s(d,7);s(f,7)}}function Z(a,c,d,e){var f=D.rect(a,c,d,e,b);return i(f,b)}function $(a,b){return w(a)}function _(a,b,c){X(a,s(w(b),1),!0)}function ba(){j()}function bb(a,b,c){var d=bk(a),e=q[d.row*C+d.col];g("dayClick",e,a,b,c)}function bc(a,b,c){E.start(function(a){j();a&&Z(a.row,a.col,a.row,a.col)},b)}function bd(a,b,c){var d=E.stop();j();if(d){var e=bl(d);g("drop",a,e,!0,b,c)}}function bh(a){return w(a.start)}function bi(a){return F.left(a)}function bj(a){return F.right(a)}function bk(a){return{row:Math.floor(z(a,e.visStart)/7),col:bp(a.getDay())}}function bl(a){return bm(a.row,a.col)}function bm(a,b){return s(w(e.visStart),a*7+b*H+I)}function bn(a){return bm(Math.floor(a/C),a%C)}function bp(a){return(a-Math.max(J,K)+C)%C*H+I}function bq(a){return p.eq(a)}function br(a){return{left:0,right:x}}var e=this;e.renderBasic=N;e.setHeight=S;e.setWidth=T;e.renderDayOverlay=X;e.defaultSelectionEnd=$;e.renderSelection=_;e.clearSelection=ba;e.reportDayClick=bb;e.dragStart=bc;e.dragStop=bd;e.defaultEventEnd=bh;e.getHoverListener=function(){return E};e.colContentLeft=bi;e.colContentRight=bj;e.dayOfWeekCol=bp;e.dateCell=bk;e.cellDate=bl;e.cellIsAllDay=function(){return!0};e.allDayRow=bq;e.allDayBounds=br;e.getRowCnt=function(){return B};e.getColCnt=function(){return C};e.getColWidth=function(){return A};e.getDaySegmentContainer=function(){return u};bu.call(e,b,c,d);bx.call(e);bw.call(e);bo.call(e);var f=e.opt,g=e.trigger,h=e.clearEvents,i=e.renderOverlay,j=e.clearOverlays,k=e.daySelectionMousedown,l=c.formatDate,m,n,o,p,q,r,t,u,x,y,A,B,C,D,E,F,G,H,I,J,K,L,M;be(b.addClass("fc-grid"));D=new by(function(b,c){var d,e,f;n.each(function(b,g){d=a(g);e=d.offset().left;b&&(f[1]=e);f=[e];c[b]=f});f[1]=e+d.outerWidth();p.each(function(c,g){if(c<B){d=a(g);e=d.offset().top;c&&(f[1]=e);f=[e];b[c]=f}});f[1]=e+d.outerHeight()});E=new bz(D);F=new bA(function(a){return t.eq(a)})}function bo(){function v(a,b){g(a);t(y(a),b)}function x(){h();m().empty()}function y(c){var d=q(),e=r(),f=w(b.visStart),g=s(w(f),e),h=a.map(c,H),i,j,k,l,m,n,o=[];for(i=0;i<d;i++){j=M(L(c,h,f,g));for(k=0;k<j.length;k++){l=j[k];for(m=0;m<l.length;m++){n=l[m];n.row=i;n.level=k;o.push(n)}}s(f,7);s(g,7)}return o}function z(a,b,c){e(a)&&A(a,b);c.isEnd&&f(a)&&u(a,b,c);i(a,b)}function A(a,b){var e=n(),f;b.draggable({zIndex:9,delay:50,opacity:c("dragOpacity"),revertDuration:c("dragRevertDuration"),start:function(g,h){d("eventDragStart",b,a,g,h);k(a,b);e.start(function(d,e,g,h){b.draggable("option","revert",!d||!g&&!h);p();if(d){f=g*7+h*(c("isRTL")?-1:1);o(s(w(a.start),f),s(H(a),f))}else f=0},g,"drag")},stop:function(c,g){e.stop();p();d("eventDragStop",b,a,c,g);if(f)l(this,a,f,0,a.allDay,c,g);else{b.css("filter","");j(a,b)}}})}var b=this;b.renderEvents=v;b.compileDaySegs=y;b.clearEvents=x;b.bindDaySeg=z;bv.call(b);var c=b.opt,d=b.trigger,e=b.isEventDraggable,f=b.isEventResizable,g=b.reportEvents,h=b.reportEventClear,i=b.eventElementHandlers,j=b.showEvents,k=b.hideEvents,l=b.eventDrop,m=b.getDaySegmentContainer,n=b.getHoverListener,o=b.renderDayOverlay,p=b.clearOverlays,q=b.getRowCnt,r=b.getColCnt,t=b.renderDaySegs,u=b.resizableDayEvent}function bp(a,b){function g(a,b){b&&s(a,b*7);var g=s(w(a),-((a.getDay()-d("firstDay")+7)%7)),h=s(w(g),7),i=w(g),j=w(h),k=d("weekends");if(!k){y(i);y(j,-1,!0)}c.title=f(i,s(w(j),-1),d("titleFormat"));c.start=g;c.end=h;c.visStart=i;c.visEnd=j;e(k?7:5)}var c=this;c.render=g;br.call(c,a,b,"agendaWeek");var d=c.opt,e=c.renderAgenda,f=b.formatDates}function bq(a,b){function g(a,b){if(b){s(a,b);d("weekends")||y(a,b<0?-1:1)}var g=w(a,!0),h=s(w(g),1);c.title=f(a,d("titleFormat"));c.start=c.visStart=g;c.end=c.visEnd=h;e(1)}var c=this;c.render=g;br.call(c,a,b,"agendaDay");var d=c.opt,e=c.renderAgenda,f=b.formatDate}function br(c,d,e){function bt(a){ba=a;bv();q?i():bB();bC()}function bv(){bj=g("theme")?"ui":"fc";bl=g("weekends")?0:1;bk=g("firstDay");if(bm=g("isRTL")){bn=-1;bo=ba-1}else{bn=1;bo=0}bp=D(g("minTime"));bq=D(g("maxTime"));br=g("columnFormat")}function bB(){var b=bj+"-widget-header",d=bj+"-widget-content",e,f,h,i,j,k=g("slotMinutes")%15==0;e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+b+"'>&nbsp;</th>";for(f=0;f<ba;f++)e+="<th class='fc- fc-col"+f+" "+b+"'/>";e+="<th class='fc-agenda-gutter "+b+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+b+"'>&nbsp;</th>";for(f=0;f<ba;f++)e+="<td class='fc- fc-col"+f+" "+d+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";e+="<td class='fc-agenda-gutter "+d+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>";q=a(e).appendTo(c);r=q.find("thead");t=r.find("th").slice(1,-1);y=q.find("tbody");A=y.find("td").slice(0,-1);B=A.find("div.fc-day-content div");C=A.eq(0);E=C.find("> div");bf(r.add(r.find("tr")));bf(y.add(y.find("tr")));Q=r.find("th:first");R=q.find(".fc-agenda-gutter");F=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c);if(g("allDaySlot")){G=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(F);e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+b+" fc-agenda-axis'>"+g("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+b+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>";H=a(e).appendTo(F);I=H.find("tr");bI(I.find("td"));Q=Q.add(H.find("th:first"));R=R.add(H.find("th.fc-agenda-gutter"));F.append("<div class='fc-agenda-divider "+b+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")}else G=a([]);J=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(F);K=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(J);L=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(K);e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";h=x();i=u(w(h),bq);u(h,bp);bb=0;for(f=0;h<i;f++){j=h.getMinutes();e+="<tr class='fc-slot"+f+" "+(j?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+b+"'>"+(!k||!j?p(h,g("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+d+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>";u(h,g("slotMinutes"));bb++}e+="</tbody></table>";M=a(e).appendTo(K);N=M.find("div:first");bJ(M.find("td"));Q=Q.add(M.find("th:first"))}function bC(){var a,b,c,d,e=v(new Date);for(a=0;a<ba;a++){d=bS(a);b=t.eq(a);b.html(p(d,br));c=A.eq(a);+d==+e?c.addClass(bj+"-state-highlight fc-today"):c.removeClass(bj+"-state-highlight fc-today");bg(b.add(c),d)}}function bD(a,c){a===b&&(a=V);V=a;bi={};var d=y.position().top,e=J.position().top,f=Math.min(a-d,M.height()+e+1);E.height(f-U(C));F.css("top",d);J.height(f-e-1);Z=N.height()+1;c&&bF()}function bE(b){T=b;bh.clear();W=0;O(Q.width("").each(function(b,c){W=Math.max(W,a(c).outerWidth())}),W);var c=J[0].clientWidth;Y=J.width()-c;if(Y){O(R,Y);R.show().prev().removeClass("fc-last")}else R.hide().prev().addClass("fc-last");X=Math.floor((c-W)/ba);O(t.slice(0,-1),X)}function bF(){function d(){J.scrollTop(c)}var a=x(),b=w(a);b.setHours(g("firstHour"));var c=bV(a,b)+1;d();setTimeout(d,0)}function bG(){_=J.scrollTop()}function bH(){J.scrollTop(_)}function bI(a){a.click(bK).mousedown(n)}function bJ(a){a.click(bK).mousedown(cb)}function bK(a){if(!g("selectable")){var b=Math.min(ba-1,Math.floor((a.pageX-q.offset().left-W)/X)),c=bS(b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){var e=parseInt(d[1])*g("slotMinutes"),f=Math.floor(e/60);c.setHours(f);c.setMinutes(e%60+bp);h("dayClick",A[b],c,!1,a)}else h("dayClick",A[b],c,!0,a)}}function bL(a,b,c){c&&bc.build();var d=w(f.visStart),e,g;if(bm){e=z(b,d)*bn+bo+1;g=z(a,d)*bn+bo+1}else{e=z(a,d);g=z(b,d)}e=Math.max(0,e);g=Math.min(ba,g);e<g&&bI(bM(0,e,0,g-1))}function bM(a,b,c,d){var e=bc.rect(a,b,c,d,F);return j(e,F)}function bN(a,b){var c=w(f.visStart),d=s(w(c),1);for(var e=0;e<ba;e++){var g=new Date(Math.max(c,a)),h=new Date(Math.min(d,b));if(g<h){var i=e*bn+bo,k=bc.rect(0,i,0,i,K),l=bV(c,g),m=bV(c,h);k.top=l;k.height=m-l;bJ(j(k,K))}s(c,1);s(d,1)}}function bO(a){return bh.left(a)}function bP(a){return bh.right(a)}function bQ(a){return{row:Math.floor(z(a,f.visStart)/7),col:bU(a.getDay())}}function bR(a){var b=bS(a.col),c=a.row;g("allDaySlot")&&c--;c>=0&&u(b,bp+c*g("slotMinutes"));return b}function bS(a){return s(w(f.visStart),a*bn+bo)}function bT(a){return g("allDaySlot")&&!a.row}function bU(a){return(a-Math.max(bk,bl)+ba)%ba*bn+bo}function bV(a,c){a=w(a,!0);if(c<u(w(a),bp))return 0;if(c>=u(w(a),bq))return M.height();var d=g("slotMinutes"),e=c.getHours()*60+c.getMinutes()-bp,f=Math.floor(e/d),h=bi[f];h===b&&(h=bi[f]=M.find("tr:eq("+f+") td div")[0].offsetTop);return Math.max(0,Math.round(h-1+Z*(e%d/d)))}function bW(){return{left:W,right:T-Y}}function bX(a){return I}function bY(a){var b=w(a.start);return a.allDay?b:u(b,g("defaultEventMinutes"))}function bZ(a,b){return b?w(a):u(w(a),g("slotMinutes"))}function b$(a,b,c){c?g("allDaySlot")&&bL(a,s(w(b),1),!0):b_(a,b)}function b_(b,c){var d=g("selectHelper");bc.build();if(d){var e=z(b,f.visStart)*bn+bo;if(e>=0&&e<ba){var h=bc.rect(0,e,0,e,K),i=bV(b,b),j=bV(b,c);if(j>i){h.top=i;h.height=j-i;h.left+=2;h.width-=5;if(a.isFunction(d)){var k=d(b,c);if(k){h.position="absolute";h.zIndex=8;S=a(k).css(h).appendTo(K)}}else{h.isStart=!0;h.isEnd=!0;S=a(o({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},h));S.css("opacity",g("dragOpacity"))}if(S){bJ(S);K.append(S);O(S,h.width,!0);P(S,h.height,!0)}}}}else bN(b,c)}function ca(){k();if(S){S.remove();S=null}}function cb(b){if(b.which==1&&g("selectable")){m(b);var c;bd.start(function(a,b){ca();if(a&&a.col==b.col&&!bT(a)){var d=bR(b),e=bR(a);c=[d,u(w(d),g("slotMinutes")),e,u(w(e),g("slotMinutes"))].sort($);b_(c[0],c[3])}else c=null},b);a(document).one("mouseup",function(a){bd.stop();if(c){+c[0]==+c[1]&&cc(c[0],!1,a);l(c[0],c[3],!1,a)}})}}function cc(a,b,c){h("dayClick",A[bU(a.getDay())],a,b,c)}function cd(a,b,c){bd.start(function(a){k();if(a)if(bT(a))bM(a.row,a.col,a.row,a.col);else{var b=bR(a),c=u(w(b),g("defaultEventMinutes"));bN(b,c)}},b)}function ce(a,b,c){var d=bd.stop();k();d&&h("drop",a,bR(d),bT(d),b,c)}var f=this;f.renderAgenda=bt;f.setWidth=bE;f.setHeight=bD;f.beforeHide=bG;f.afterShow=bH;f.defaultEventEnd=bY;f.timePosition=bV;f.dayOfWeekCol=bU;f.dateCell=bQ;f.cellDate=bR;f.cellIsAllDay=bT;f.allDayRow=bX;f.allDayBounds=bW;f.getHoverListener=function(){return bd};f.colContentLeft=bO;f.colContentRight=bP;f.getDaySegmentContainer=function(){return G};f.getSlotSegmentContainer=function(){return L};f.getMinMinute=function(){return bp};f.getMaxMinute=function(){return bq};f.getBodyContent=function(){return K};f.getRowCnt=function(){return 1};f.getColCnt=function(){return ba};f.getColWidth=function(){return X};f.getSlotHeight=function(){return Z};f.defaultSelectionEnd=bZ;f.renderDayOverlay=bL;f.renderSelection=b$;f.clearSelection=ca;f.reportDayClick=cc;f.dragStart=cd;f.dragStop=ce;bu.call(f,c,d,e);bx.call(f);bw.call(f);bs.call(f);var g=f.opt,h=f.trigger,i=f.clearEvents,j=f.renderOverlay,k=f.clearOverlays,l=f.reportSelection,m=f.unselect,n=f.daySelectionMousedown,o=f.slotSegHtml,p=d.formatDate,q,r,t,y,A,B,C,E,F,G,H,I,J,K,L,M,N,Q,R,S,T,V,W,X,Y,Z,_,ba,bb,bc,bd,bh,bi={},bj,bk,bl,bm,bn,bo,bp,bq,br;be(c.addClass("fc-agenda"));bc=new by(function(b,c){function k(a){return Math.max(i,Math.min(j,a))}var d,e,f;t.each(function(b,g){d=a(g);e=d.offset().left;b&&(f[1]=e);f=[e];c[b]=f});f[1]=e+d.outerWidth();if(g("allDaySlot")){d=I;e=d.offset().top;b[0]=[e,e+d.outerHeight()]}var h=K.offset().top,i=J.offset().top,j=i+J.outerHeight();for(var l=0;l<bb;l++)b.push([k(h+Z*l),k(h+Z*(l+1))])});bd=new bz(bc);bh=new bA(function(a){return B.eq(a)})}function bs(){function V(a,b){i(a);var c,e=a.length,f=[],g=[];for(c=0;c<e;c++)a[c].allDay?f.push(a[c]):g.push(a[c]);if(d("allDaySlot")){y(X(f),b);l()}$(Y(g),b)}function W(){j();m().empty();n().empty()}function X(b){var d=M(L(b,a.map(b,H),c.visStart,c.visEnd)),e,f=d.length,g,h,i,j=[];for(e=0;e<f;e++){g=d[e];for(h=0;h<g.length;h++){i=g[h];i.row=0;i.level=e;j.push(i)}}return j}function Y(b){var d=A(),e=r(),f=q(),g=u(w(c.visStart),e),h=a.map(b,Z),i,j,k,l,m,n,o=[];for(i=0;i<d;i++){j=M(L(b,h,g,u(w(g),f-e)));bt(j);for(k=0;k<j.length;k++){l=j[k];for(m=0;m<l.length;m++){n=l[m];n.col=i;n.level=k;o.push(n)}}s(g,1,!0)}return o}function Z(a){return a.end?w(a.end):u(w(a.start),d("defaultEventMinutes"))}function $(c,f){var g,h=c.length,i,j,k,l,m,o,p,q,r,s,u,w,y="",z,B,C,D={},F={},G,H,I,J,K=n(),L,M,O,P=A();if(L=d("isRTL")){M=-1;O=P-1}else{M=1;O=0}for(g=0;g<h;g++){i=c[g];j=i.event;l=t(i.start,i.start);m=t(i.start,i.end);o=i.col;p=i.level;q=i.forward||0;r=v(o*M+O);s=x(o*M+O)-r;s=Math.min(s-6,s*.95);p?u=s/(p+q+1):q?u=(s/(q+1)-6)*2:u=s;w=r+s/(p+q+1)*p*M+(L?s-u:0);i.top=l;i.left=w;i.outerWidth=u;i.outerHeight=m-l;y+=_(j,i)}K[0].innerHTML=y;z=K.children();for(g=0;g<h;g++){i=c[g];j=i.event;B=a(z[g]);C=e("eventRender",j,j,B);if(C===!1)B.remove();else{if(C&&C!==!0){B.remove();B=a(C).css({position:"absolute",top:i.top,left:i.left}).appendTo(K)}i.element=B;j._id===f?bb(j,B,i):B[0]._fci=g;E(j,B)}}N(K,c,bb);for(g=0;g<h;g++){i=c[g];if(B=i.element){H=D[G=i.key=bd(B[0])];i.vsides=H===b?D[G]=U(B,!0):H;H=F[G];i.hsides=H===b?F[G]=Q(B,!0):H;I=B.find("div.fc-event-content");I.length&&(i.contentTop=I[0].offsetTop)}}for(g=0;g<h;g++){i=c[g];if(B=i.element){B[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px";J=Math.max(0,i.outerHeight-i.vsides);B[0].style.height=J+"px";j=i.event;if(i.contentTop!==b&&J-i.contentTop<10){B.find("div.fc-event-time").text(S(j.start,d("timeFormat"))+" - "+j.title);B.find("div.fc-event-title").remove()}e("eventAfterRender",j,j,B)}}}function _(a,b){var c="<",e=a.url,h=bh(a,d),i=h?" style='"+
h+"'":"",j=["fc-event","fc-event-skin","fc-event-vert"];f(a)&&j.push("fc-event-draggable");b.isStart&&j.push("fc-corner-top");b.isEnd&&j.push("fc-corner-bottom");j=j.concat(a.className);a.source&&(j=j.concat(a.source.className||[]));e?c+="a href='"+bc(a.url)+"'":c+="div";c+=" class='"+j.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+h+"'"+">"+"<div class='fc-event-inner fc-event-skin'"+i+">"+"<div class='fc-event-head fc-event-skin'"+i+">"+"<div class='fc-event-time'>"+bc(T(a.start,a.end,d("timeFormat")))+"</div>"+"</div>"+"<div class='fc-event-content'>"+"<div class='fc-event-title'>"+bc(a.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>"+"</div>";b.isEnd&&g(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>");c+="</"+(e?"a":"div")+">";return c}function ba(a,b,c){f(a)&&be(a,b,c.isStart);c.isEnd&&g(a)&&z(a,b,c);k(a,b)}function bb(a,b,c){var d=b.find("div.fc-event-time");f(a)&&bf(a,b,d);c.isEnd&&g(a)&&bg(a,b,d);k(a,b)}function be(a,b,c){function q(){if(!h){b.width(f).height("").draggable("option","grid",null);h=!0}}var f,g,h=!0,i,j=d("isRTL")?-1:1,k=o(),l=B(),m=C(),n=r();b.draggable({zIndex:9,opacity:d("dragOpacity","month"),revertDuration:d("dragRevertDuration"),start:function(n,o){e("eventDragStart",b,a,n,o);G(a,b);f=b.width();k.start(function(e,f,k,n){O();if(e){g=!1;i=n*j;if(!e.row){K(s(w(a.start),i),s(H(a),i));q()}else if(c){if(h){b.width(l-10);P(b,m*Math.round((a.end?(a.end-a.start)/p:d("defaultEventMinutes"))/d("slotMinutes")));b.draggable("option","grid",[l,1]);h=!1}}else g=!0;g=g||h&&!i}else{q();g=!0}b.draggable("option","revert",g)},n,"drag")},stop:function(c,f){k.stop();O();e("eventDragStop",b,a,c,f);if(g){q();b.css("filter","");F(a,b)}else{var j=0;h||(j=Math.round((b.offset().top-D().offset().top)/m)*d("slotMinutes")+n-(a.start.getHours()*60+a.start.getMinutes()));I(this,a,i,j,h,c,f)}}})}function bf(a,b,c){function q(b){var e=u(w(a.start),b),f;a.end&&(f=u(w(a.end),b));c.text(T(e,f,d("timeFormat")))}function r(){if(g){c.css("display","");b.draggable("option","grid",[n,p]);g=!1}}var f,g=!1,h,i,j,k=d("isRTL")?-1:1,l=o(),m=A(),n=B(),p=C();b.draggable({zIndex:9,scroll:!1,grid:[n,p],axis:m==1?"y":!1,opacity:d("dragOpacity"),revertDuration:d("dragRevertDuration"),start:function(m,n){e("eventDragStart",b,a,m,n);G(a,b);f=b.position();i=j=0;l.start(function(e,f,i,j){b.draggable("option","revert",!e);O();if(e){h=j*k;if(d("allDaySlot")&&!e.row){if(!g){g=!0;c.hide();b.draggable("option","grid",null)}K(s(w(a.start),h),s(H(a),h))}else r()}},m,"drag")},drag:function(a,b){i=Math.round((b.position.top-f.top)/p)*d("slotMinutes");if(i!=j){g||q(i);j=i}},stop:function(c,d){var j=l.stop();O();e("eventDragStop",b,a,c,d);if(j&&(h||i||g))I(this,a,h,g?0:i,g,c,d);else{r();b.css("filter","");b.css(f);q(0);F(a,b)}}})}function bg(a,b,c){var f,g,i=C();b.resizable({handles:{s:"div.ui-resizable-s"},grid:i,start:function(c,d){f=g=0;G(a,b);b.css("z-index",9);e("eventResizeStart",this,a,c,d)},resize:function(e,j){f=Math.round((Math.max(i,b.height())-j.originalSize.height)/i);if(f!=g){c.text(T(a.start,!f&&!a.end?null:u(h(a),d("slotMinutes")*f),d("timeFormat")));g=f}},stop:function(c,g){e("eventResizeStop",this,a,c,g);if(f)J(this,a,0,d("slotMinutes")*f,c,g);else{b.css("z-index",8);F(a,b)}}})}var c=this;c.renderEvents=V;c.compileDaySegs=X;c.clearEvents=W;c.slotSegHtml=_;c.bindDaySeg=ba;bv.call(c);var d=c.opt,e=c.trigger,f=c.isEventDraggable,g=c.isEventResizable,h=c.eventEnd,i=c.reportEvents,j=c.reportEventClear,k=c.eventElementHandlers,l=c.setHeight,m=c.getDaySegmentContainer,n=c.getSlotSegmentContainer,o=c.getHoverListener,q=c.getMaxMinute,r=c.getMinMinute,t=c.timePosition,v=c.colContentLeft,x=c.colContentRight,y=c.renderDaySegs,z=c.resizableDayEvent,A=c.getColCnt,B=c.getColWidth,C=c.getSlotHeight,D=c.getBodyContent,E=c.reportEventElement,F=c.showEvents,G=c.hideEvents,I=c.eventDrop,J=c.eventResize,K=c.renderDayOverlay,O=c.clearOverlays,R=c.calendar,S=R.formatDate,T=R.formatDates}function bt(a){var b,c,d,e,f,g;for(b=a.length-1;b>0;b--){e=a[b];for(c=0;c<e.length;c++){f=e[c];for(d=0;d<a[b-1].length;d++){g=a[b-1][d];K(f,g)&&(g.forward=Math.max(g.forward||0,(f.forward||0)+1))}}}}function bu(a,c,d){function m(a,b){var c=l[a];return typeof c=="object"?bb(c,b||d):c}function n(a,b){return c.trigger.apply(c,[a,b||e].concat(Array.prototype.slice.call(arguments,2),[e]))}function o(a){return q(a)&&!m("disableDragging")}function p(a){return q(a)&&!m("disableResizing")}function q(a){return bj(a.editable,(a.source||{}).editable,m("editable"))}function r(a){i={};var b,c=a.length,d;for(b=0;b<c;b++){d=a[b];i[d._id]?i[d._id].push(d):i[d._id]=[d]}}function t(a){return a.end?w(a.end):f(a)}function v(a,b){j.push(b);k[a._id]?k[a._id].push(b):k[a._id]=[b]}function x(){j=[];k={}}function y(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return n("eventClick",this,a,c)}).hover(function(b){n("eventMouseover",this,a,b)},function(b){n("eventMouseout",this,a,b)})}function z(a,b){B(a,b,"show")}function A(a,b){B(a,b,"hide")}function B(a,b,c){var d=k[a._id],e,f=d.length;for(e=0;e<f;e++)(!b||d[e][0]!=b[0])&&d[e][c]()}function C(a,b,c,d,e,f,g){var j=b.allDay,k=b._id;E(i[k],c,d,e);n("eventDrop",a,b,c,d,e,function(){E(i[k],-c,-d,j);h(k)},f,g);h(k)}function D(a,b,c,d,e,f){var g=b._id;F(i[g],c,d);n("eventResize",a,b,c,d,function(){F(i[g],-c,-d);h(g)},e,f);h(g)}function E(a,c,d,e){d=d||0;for(var f,h=a.length,i=0;i<h;i++){f=a[i];e!==b&&(f.allDay=e);u(s(f.start,c,!0),d);f.end&&(f.end=u(s(f.end,c,!0),d));g(f,l)}}function F(a,b,c){c=c||0;for(var d,e=a.length,f=0;f<e;f++){d=a[f];d.end=u(s(t(d),b,!0),c);g(d,l)}}var e=this;e.element=a;e.calendar=c;e.name=d;e.opt=m;e.trigger=n;e.isEventDraggable=o;e.isEventResizable=p;e.reportEvents=r;e.eventEnd=t;e.reportEventElement=v;e.reportEventClear=x;e.eventElementHandlers=y;e.showEvents=z;e.hideEvents=A;e.eventDrop=C;e.eventResize=D;var f=e.defaultEventEnd,g=c.normalizeEvent,h=c.reportEventChange,i={},j=[],k={},l=c.options}function bv(){function E(a,b){var c=y(),d,e=m(),f=n(),g=0,h,i,j,k,l=a.length,o,p,q;c[0].innerHTML=G(a);H(a,c.children());I(a);J(a,c,b);K(a);L(a);M(a);d=O();for(h=0;h<e;h++){i=0;j=[];for(k=0;k<f;k++)j[k]=0;while(g<l&&(o=a[g]).row==h){p=_(j.slice(o.startCol,o.endCol));o.top=p;p+=o.outerHeight;for(q=o.startCol;q<o.endCol;q++)j[q]=p;g++}d[h].height(_(j))}R(a,P(d))}function F(b,c,d){var e=a("<div/>"),f,g=y(),h,i=b.length,j;e[0].innerHTML=G(b);f=e.children();g.append(f);H(b,f);K(b);L(b);M(b);R(b,P(O()));f=[];for(h=0;h<i;h++){j=b[h].element;if(j){b[h].row===c&&j.css("top",d);f.push(j[0])}}return a(f)}function G(a){var b=d("isRTL"),c,e=a.length,h,i,j,k,l=q(),m=l.left,n=l.right,o,p,s,v,w,x="";for(c=0;c<e;c++){h=a[c];i=h.event;k=["fc-event","fc-event-skin","fc-event-hori"];f(i)&&k.push("fc-event-draggable");if(b){h.isStart&&k.push("fc-corner-right");h.isEnd&&k.push("fc-corner-left");o=u(h.end.getDay()-1);p=u(h.start.getDay());s=h.isEnd?r(o):m;v=h.isStart?t(p):n}else{h.isStart&&k.push("fc-corner-left");h.isEnd&&k.push("fc-corner-right");o=u(h.start.getDay());p=u(h.end.getDay()-1);s=h.isStart?r(o):m;v=h.isEnd?t(p):n}k=k.concat(i.className);i.source&&(k=k.concat(i.source.className||[]));j=i.url;w=bh(i,d);j?x+="<a href='"+bc(j)+"'":x+="<div";x+=" class='"+k.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+s+"px;"+w+"'"+">"+"<div"+" class='fc-event-inner fc-event-skin'"+(w?" style='"+w+"'":"")+">";!i.allDay&&h.isStart&&(x+="<span class='fc-event-time'>"+bc(A(i.start,i.end,d("timeFormat")))+"</span>");x+="<span class='fc-event-title'>"+bc(i.title)+"</span>"+"</div>";h.isEnd&&g(i)&&(x+="<div class='ui-resizable-handle ui-resizable-"+(b?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>");x+="</"+(j?"a":"div")+">";h.left=s;h.outerWidth=v-s;h.startCol=o;h.endCol=p+1}return x}function H(b,c){var d,f=b.length,g,h,i,j;for(d=0;d<f;d++){g=b[d];h=g.event;i=a(c[d]);j=e("eventRender",h,h,i);if(j===!1)i.remove();else{if(j&&j!==!0){j=a(j).css({position:"absolute",left:g.left});i.replaceWith(j);i=j}g.element=i}}}function I(a){var b,c=a.length,d,e;for(b=0;b<c;b++){d=a[b];e=d.element;e&&i(d.event,e)}}function J(a,b,c){var d,e=a.length,f,g,h;for(d=0;d<e;d++){f=a[d];g=f.element;if(g){h=f.event;h._id===c?z(h,g,f):g[0]._fci=d}}N(b,a,z)}function K(a){var c,d=a.length,e,f,g,h,i={};for(c=0;c<d;c++){e=a[c];f=e.element;if(f){g=e.key=bd(f[0]);h=i[g];h===b&&(h=i[g]=Q(f,!0));e.hsides=h}}}function L(a){var b,c=a.length,d,e;for(b=0;b<c;b++){d=a[b];e=d.element;e&&(e[0].style.width=Math.max(0,d.outerWidth-d.hsides)+"px")}}function M(a){var c,d=a.length,e,f,g,h,i={};for(c=0;c<d;c++){e=a[c];f=e.element;if(f){g=e.key;h=i[g];h===b&&(h=i[g]=W(f));e.outerHeight=f[0].offsetHeight+h}}}function O(){var a,b=m(),c=[];for(a=0;a<b;a++)c[a]=p(a).find("td:first div.fc-day-content > div");return c}function P(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d[b]=a[b][0].offsetTop;return d}function R(a,b){var c,d=a.length,f,g,h;for(c=0;c<d;c++){f=a[c];g=f.element;if(g){g[0].style.top=b[f.row]+(f.top||0)+"px";h=f.event;e("eventAfterRender",h,h,g)}}}function S(b,f,g){var i=d("isRTL"),o=i?"w":"e",p=f.find("div.ui-resizable-"+o),q=!1;be(f);f.mousedown(function(a){a.preventDefault()}).click(function(a){if(q){a.preventDefault();a.stopImmediatePropagation()}});p.mousedown(function(d){function I(c){e("eventResizeStop",this,b,c);a("body").css("cursor","");p.stop();C();A&&l(this,b,A,0,c);setTimeout(function(){q=!1},0)}if(d.which!=1)return;q=!0;var p=c.getHoverListener(),r=m(),t=n(),u=i?-1:1,y=i?t-1:0,z=f.css("top"),A,E,G=a.extend({},b),H=v(b.start);D();a("body").css("cursor",o+"-resize").one("mouseup",I);e("eventResizeStart",this,b,d);p.start(function(a,c){if(a){var d=Math.max(H.row,a.row),e=a.col;r==1&&(d=0);d==H.row&&(i?e=Math.min(H.col,e):e=Math.max(H.col,e));A=d*7+e*u+y-(c.row*7+c.col*u+y);var f=s(h(b),A,!0);if(A){G.end=f;var l=E;E=F(x([G]),g.row,z);E.find("*").css("cursor",o+"-resize");l&&l.remove();k(b)}else if(E){j(b);E.remove();E=null}C();B(b.start,s(w(f),1))}},d)})}var c=this;c.renderDaySegs=E;c.resizableDayEvent=S;var d=c.opt,e=c.trigger,f=c.isEventDraggable,g=c.isEventResizable,h=c.eventEnd,i=c.reportEventElement,j=c.showEvents,k=c.hideEvents,l=c.eventResize,m=c.getRowCnt,n=c.getColCnt,o=c.getColWidth,p=c.allDayRow,q=c.allDayBounds,r=c.colContentLeft,t=c.colContentRight,u=c.dayOfWeekCol,v=c.dateCell,x=c.compileDaySegs,y=c.getDaySegmentContainer,z=c.bindDaySeg,A=c.calendar.formatDates,B=c.renderDayOverlay,C=c.clearOverlays,D=c.clearSelection}function bw(){function i(a,b,c){j();b||(b=e(a,c));f(a,b,c);k(a,b,c)}function j(a){if(h){h=!1;g();d("unselect",null,a)}}function k(a,b,c,e){h=!0;d("select",null,a,b,c,e)}function l(d){var e=b.cellDate,h=b.cellIsAllDay,i=b.getHoverListener(),l=b.reportDayClick;if(d.which==1&&c("selectable")){j(d);var m=this,n;i.start(function(a,b){g();if(a&&h(a)){n=[e(b),e(a)].sort($);f(n[0],n[1],!0)}else n=null},d);a(document).one("mouseup",function(a){i.stop();if(n){+n[0]==+n[1]&&l(n[0],!0,a);k(n[0],n[1],!0,a)}})}}var b=this;b.select=i;b.unselect=j;b.reportSelection=k;b.daySelectionMousedown=l;var c=b.opt,d=b.trigger,e=b.defaultSelectionEnd,f=b.renderSelection,g=b.clearSelection,h=!1;c("selectable")&&c("unselectAuto")&&a(document).mousedown(function(b){var d=c("unselectCancel");if(d&&a(b.target).parents(d).length)return;j(b)})}function bx(){function e(b,e){var f=d.shift();f||(f=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));f[0].parentNode!=e[0]&&f.appendTo(e);c.push(f.css(b).show());return f}function f(){var a;while(a=c.shift())d.push(a.hide().unbind())}var b=this;b.renderOverlay=e;b.clearOverlays=f;var c=[],d=[]}function by(a){var b=this,c,d;b.build=function(){c=[];d=[];a(c,d)};b.cell=function(a,b){var e=c.length,f=d.length,g,h=-1,i=-1;for(g=0;g<e;g++)if(b>=c[g][0]&&b<c[g][1]){h=g;break}for(g=0;g<f;g++)if(a>=d[g][0]&&a<d[g][1]){i=g;break}return h>=0&&i>=0?{row:h,col:i}:null};b.rect=function(a,b,e,f,g){var h=g.offset();return{top:c[a][0]-h.top,left:d[b][0]-h.left,width:d[f][1]-d[b][0],height:c[e][1]-c[a][0]}}}function bz(b){function h(a){var c=b.cell(a.pageX,a.pageY);if(!c!=!g||c&&(c.row!=g.row||c.col!=g.col)){if(c){f||(f=c);e(c,f,c.row-f.row,c.col-f.col)}else e(c,f);g=c}}var c=this,d,e,f,g;c.start=function(c,i,j){e=c;f=g=null;b.build();h(i);d=j||"mousemove";a(document).bind(d,h)};c.stop=function(){a(document).unbind(d,h);return g}}function bA(a){function g(b){return d[b]=d[b]||a(b)}var c=this,d={},e={},f={};c.left=function(a){return e[a]=e[a]===b?g(a).position().left:e[a]};c.right=function(a){return f[a]=f[a]===b?c.left(a)+g(a).width():f[a]};c.clear=function(){d={};e={};f={}}}var c={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},d={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},e=a.fullCalendar={version:"1.5.2"},f=e.views={};a.fn.fullCalendar=function(e){if(typeof e=="string"){var f=Array.prototype.slice.call(arguments,1),g;this.each(function(){var c=a.data(this,"fullCalendar");if(c&&a.isFunction(c[e])){var d=c[e].apply(c,f);g===b&&(g=d);e=="destroy"&&a.removeData(this,"fullCalendar")}});return g!==b?g:this}var i=e.eventSources||[];delete e.eventSources;if(e.events){i.push(e.events);delete e.events}e=a.extend(!0,{},c,e.isRTL||e.isRTL===b&&c.isRTL?d:{},e);this.each(function(b,c){var d=a(c),f=new h(d,e,i);d.data("fullCalendar",f);f.render()});return this};e.sourceNormalizers=[];e.sourceFetchers=[];var j={dataType:"json",cache:!1},k=1;e.addDays=s;e.cloneDate=w;e.parseDate=B;e.parseISO8601=C;e.parseTime=D;e.formatDate=E;e.formatDates=F;var m=["sun","mon","tue","wed","thu","fri","sat"],n=864e5,o=36e5,p=6e4,G={s:function(a){return a.getSeconds()},ss:function(a){return ba(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return ba(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return ba(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return ba(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return ba(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return ba(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return E(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&b<20?"th":["st","nd","rd"][b%10-1]||"th"}};e.applyAll=bi;f.month=bk;f.basicWeek=bl;f.basicDay=bm;g({weekMode:"fixed"});f.agendaWeek=bp;f.agendaDay=bq;g({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);